% ------------------------------------------------------------------------------
% Formatvorlage für Masterarbeiten an der Ohm-Hochschule Nürnberg
% ------------------------------------------------------------------------------
%   erstellt von Stefan Macke, 24.04.2009
%   http://blog.stefan-macke.de

% Dokumentenkopf ---------------------------------------------------------------
%   Diese Vorlage basiert auf "scrreprt" aus dem koma-script.
% ------------------------------------------------------------------------------
\documentclass[
    11pt, % Schriftgröße
    DIV10,
    ngerman, % für Umlaute, Silbentrennung etc.
    a4paper, % Papierformat
    oneside, % einseitiges Dokument
    titlepage, % es wird eine Titelseite verwendet
    parskip=half, % Abstand zwischen Absätzen (halbe Zeile)
    headings=normal, % Größe der Überschriften verkleinern
    listof=totocnumbered, % Verzeichnisse im Inhaltsverzeichnis aufführen
    bibliography=totocnumbered, % Literaturverzeichnis im Inhaltsverzeichnis aufführen
    index=totoc, % Index im Inhaltsverzeichnis aufführen
    captions=tableheading, % Beschriftung von Tabellen unterhalb ausgeben
    final % Status des Dokuments (final/draft)
]{scrreprt}

% Meta-Informationen -----------------------------------------------------------
%   Informationen über das Dokument, wie z.B. Titel, Autor, Matrikelnr. etc
%   werden in der Datei Meta.tex definiert und können danach global
%   verwendet werden.
% ------------------------------------------------------------------------------
\input{Meta}

% benötigte Packages -----------------------------------------------------------
%   LaTeX-Packages, die benötigt werden, sind in die Datei Packages.tex
%   "ausgelagert", um diese Vorlage möglichst übersichtlich zu halten.
% ------------------------------------------------------------------------------
\input{Packages}

% Erstellung eines Index und Abkürzungsverzeichnisses aktivieren ---------------
\makeindex
\makenomenclature

% Kopf- und Fußzeilen, Seitenränder etc. ---------------------------------------
\input{Seitenstil}

% eigene Definitionen für Silbentrennung
\include{Silbentrennung}

% eigene LaTeX-Befehle
\include{Befehle}

% Das eigentliche Dokument -----------------------------------------------------
%   Der eigentliche Inhalt des Dokuments beginnt hier. Die einzelnen Seiten
%   und Kapitel werden in eigene Dateien ausgelagert und hier nur inkludiert.
% ------------------------------------------------------------------------------
\begin{document}
\pagenumbering{arabic}
% auch subsubsection nummerieren
\setcounter{secnumdepth}{1}
\setcounter{tocdepth}{1}

% Deckblatt und Abstract ohne Seitenzahl
%\ofoot{}
\include{Deckblatt}
\include{Erklaerung} % Selbständigkeitserklärung

\addchap{Abstract}
\label{sec:Abstract}
%TODO Abstract am Ende schreiben

\addchap{Kurzfassung}
\label{sec:Zusammenfassung}
%TODO Zusammenfassung am Ende schreiben

\addchap{Danksagung}
%TODO Danksagung formulieren?
%Mahr
%Zweitkorrektor
%Patrick
%Marielle
%Freddy
%Korrektoren (Melanie)

%\ofoot{\pagemark}

% Seitennummerierung -----------------------------------------------------------
%   Vor dem Hauptteil werden die Seiten in großen römischen Ziffern 
%   nummeriert.
% ------------------------------------------------------------------------------
\tableofcontents % Inhaltsverzeichnis

% Abkürzungsverzeichnis --------------------------------------------------------

%\listoffigures % Abbildungsverzeichnis

% arabische Seitenzahlen im Hauptteil ------------------------------------------
%\clearpage
%\include{Inhalt/Roadmap}

\addchap{Vorbemerkungen}
%TODO ausformulieren
- Geschlecht -> männlich beinhaltet auch weiblich
- "denglische" Formulierungen wie ausgeloggt werden vermieden
- wo finde ich das ganze -> Assistenzplaner.de/master

Testlink: \href{https://www.spiegel.de}{Spiegel}

\chapter{Aufgabenstellung} % alternativ: Ziel der Arbeit
%TODO gab es überhaupt eine Aufgabenstellung
* manuellen Prozess der Dienstplanerstellung automatisieren
* Zusammenarbeit mit Assistenten über Web-Anwendung realisieren
* 

\chapter{Motivation}
%TODO überdeckt sich das nicht mit der Aufgabenstellung?
-> den unbedarften Leser "abholen"
warum überhapt den ganzen Aufwand treiben
%TODO am Ende schreiben

%Fragen die geklärt werden sollten
%TODO alle Fragen klären
% * Masterarbeit ganz allgemein halten, oder an dem Beispiel von Patricks Team das Ganze aufziehen? -> am Beispiel aufziehen und im Ausblick Verallgemeinerungen betrachten

%TODO Verwendung kontrollieren
%Einheitliche Begriffe
%Seite (der Anwendung)
%Benutzer


\chapter{Grundlagen}
In diesem Kapitel ...

\section{Server und Client}
\section{Webentwicklung}
\subsection{PHP}
\subsection{HTML}
\subsection{CSS}
Cascading Style Sheets ...
\subsection{JavaScript}
-> buch von Koch
\subsection{AJAX}

%\section{Agile Softwareentwicklung}
\subsection{User Stories}

\section{Modellgetriebene Software-Entwicklung}
\section{SysML}
\section{UML}


\chapter{Anforderungsermittlung}
\section{Domäne}
* Individuelle Schwerstbehindertenbetreuung (ISB) / Assistenz %http://www.commit-cbf.de/assistenz_isb_24.html


\section{Begrifflichkeiten}
In der Anforderungsermittlung ist die 
Klare Begrifflichkeiten sind für eine Systematisierung der Anforderungen unablässig


\subsection{Klient}
Der Klient ist ein körperlich behinderter Mensch, der im alltäglichen Leben permanent auf Hilfe angewiesen ist. Mit Hilfe seiner Assistenten kann er ein selbstbestimmtes Leben führen.

\subsection{Assistent}
Der Assistent ist ein Helfer, der den Klienten pflegt und ihn im alltäglichen Leben unterstützt. 

\subsection{Team}
Der Klient muss rund um die Uhr durch Assistenz unterstützt werden. Dafür bedarf es eines Teams.
Das Team eines Klienten besteht aus mehreren Assistenten. 
%TODO konkretes Beispiel nennen? (während der Entstehung dieser Ausarbeitung aus 7 Stück).

\subsection{Dienstplan}
Im Dienstplan sind die Dienst- und Bereitschaftszeiten der Assistenten festgehalten. Für jeden Tag gibt es einen Assistenten der Dienst hat und einen Assistenten der Bereitschaft hat. Während den Bereitschaftszeiten muss der Assistent telefonisch erreichbar sein und innerhalb kurzer Zeit zum Klienten zu kommen, um den Dienst zu übernehmen. Die Dienste gehen frühestens um 13 Uhr, spätestens um 17 Uhr los und enden um 8 Uhr, bzw. 13 Uhr des Folgetages.


\subsection{Stundenkontigent}
%TODO verallgemeinern?
Jeder Assistent arbeit unterschiedlich viel. Die Monatsstundenzahl variiert zwischen 30 und 130. Jeder Assistent möchte sein Stundenkontigent möglichst gut ausgeschöpft bekommen. Bei der Dienstplanerstellung ist darauf zu achten, dass alle Assistenten möglichst gleichmäßig ihr Stundenkontigent ausgeschöpft bekommen. %TODO die letzten zwei Sätze direkt hintereinadner hören sich doof an!

\section{Ist-Prozess}
Vor Beginn der Arbeiten des Autors war der Prozess zur Dienstplanerstellung komplett manuell. Der Klient hat für die Dienstplanerstellung eine E-Mail mit Hinweisen für den Monat an sein Team geschickt und darum gebeten Rückmeldung zu geben, wie die Verfügbarkeiten sind.
Die Assistenten haben auf diese E-Mail geantwortet und darin beschrieben wann sie Zeit für Dienste haben.
Der Klient hat manuell mit Hilfe einer Excel-Tabelle den Dienstplan erstellt und musste dabei ständig zwischen Excel-Tabelle und allen Antworten des Teams (sieben an der Zahl) wechseln. Nach der Fertigstellung des Dienstplans hat der Klient eine E-Mail mit dem Dienstplan an sein Team geschickt.
Die Dienstplanerstellung hat den Klienten viel Zeit (ca. vier bis fünf Stunden im Monat) und Nerven gekostet.
%TODO Ablaufdiagramm?

\section{Soll-Prozess}
%TODO E-Mail wird nicht garantiert für immer das Mittel der Wahl sein!
Ein möglicher Soll-Prozess könnte folgendermaßen aussehen: % es gibt immer mehrere Möglichkeiten!
Der Klient gibt auf einer Webseite die Dienstzeiten und Kommentare für den kommenden Monat ein. Per Knopfdruck wird das Team benachrichtigt und darum gebeten die freien Tage auf einer Webseite (Link ist in der Nachricht enthalten) einzugeben. Sobald alle Assistenten ihre Eingaben getätigt haben können dem Klienten mittels eines Algorithmus mehrere Dienstplan-Vorschlag unterbreitet werden. Der Dienstplan kann von dem Klienten manuell editiert werden und nach den eigenen Vorlieben (die bei der automatischen Erstellung schon größtenteils berücksichtigt wurden) anpassen. Der Klient gibt den Dienstplan frei und das Team wird automatisch per E-Mail darüber benachrichtig, dass der Dienstplan verfügbar ist.
Der Zeitaufwand für die Assistenten bleibt unverändert. Der Zeitaufwand für den Klient sinkt auf unter eine halbe Stunde.
%TODO BPMN Diagramm - Subjekt-Interaktions-Diagram - Ablaufdiagramm - http://www.metasonic.de/metasonic-suite
%UML Aktivitätsdiagramm

\section{User Stories}
Aus den Gesprächen mit dem Klienten und der Formulierung des Soll-Prozesses sind einige User-Stories abgeleitet worden:
%TODO ggf noch den  ..., um ... Teil ergänzen

\subsection{Klient}
\begin{itemize}
%TODO einheitliche Verwednung eines Begriffes für Notizen, Hinweise, etc.
\item Als Klient möchte ich für den nächsten Monat angeben können, wie die Dienstzeiten sind.
\item Als Klient möchte ich die Möglichkeit haben, den Dienstplan nach meinen Wünschen anzupassen.
\item Als Klient möchte ich eine Möglichkeit haben mein Team zu verwalten.
\item Als Klient möchte ich die Assistenten bewerten, um guten Assistenten bei der Einteilung Vorrang zu gewähren.
\item Als Klient möchte ich bei den Assistenten Vorlieben für Wochentage eingeben können.
\item Als Klient möchte ich bei der manuellen Nachbearbeitung des Dienstplanes die Stundenverteilung sehen können.
\item Als Klient möchte ich Notizen zum Tag erstellen können, die für jeden sichtbar sind (öffentliche Notizen).
\item Als Klient möchte ich Notizen zum Tag erstellen können, die nur für mich sichtbar sind (private Notizen).
\item Als Klient möchte ich mehrere Vorschläge für einen Dienstplan bekommen, die ich anpassen kann.
\item Als Klient möchte ich eine Mail an mein Team verschicken können, mit der Bitte freie Termine einzutragen.
\item Als Klient möchte ich monatsbezogene Hinweise zum Dienstplan eingeben können.
\item Als Klient möchte ich Standard-Dienstzeiten angeben können.
\end{itemize}

\subsection{Assistent}
\begin{itemize}
\item Als Assistent möchte ich angeben können, wann ich arbeiten kann.
\item Als Assistent möchte ich mein Stundenkontingent möglichst gut ausgeschöpft bekommen.
\item Als Assistent möchte ich meine Eingaben im Kalender ändern können.
\item Als Assistent möchte ich sehen, wann ich meine Dienste habe.
\item Als Assistent möchte ich sehen, wann ich Bereitschaft habe.
\item Als Assistent möchte ich eine Möglichkeit haben Termine zu favorisieren.
\item Als Assistent möchte ich bei der Angabe von Terminen auch Bemerkungen machen können, um weitere Informationen transportieren zu können.
\end{itemize}

\subsection{Allgemein}
\begin{itemize}
\item Als Anwender möchte ich sehen, wann der Dienstplan zum letzten Mal geändert wurde.
\item Als Anwender möchte ich mich mit einem eigenen Account beim System anmelden können, um nur die Dinge zu sehen, die mich interessieren und nicht aus Versehen ungewollte Änderungen zu machen.
\item Als Anwender möchte ich eine Dokumentation des Systems zur Verfügung haben, um mich gut in das System einarbeiten zu können.
\end{itemize}


\section{Abgeleitete Anforderungen}
Aus den User-Stories ergeben sich einige Anforderungen.
-> SysML Diagramm


\subsection{Serverbasierte Anwendung}
Damit der Klient mit seinen Assistenten asynchron zusammenarbeiten kann, bietet sich eine serverbasierte Anwendung an. Der Klient verwaltet alle Daten online. Die Assistenten können ihre Eingaben losgelöst vom Klienten vornehmen.


\subsection{Benutzer-Verwaltung}
* Klient und Assistent haben unterschiedliche Interessen am Assistenzplaner
* ungewollte versehentliche Änderungen vermeiden -> Passwort
* unterschiedliche Sichten bzw. Freigabestufen
* 



\chapter{Software-Design} % oder einfach nur Design?
SysML Modell
UML Ablaufdiagramme
Datenbankmodell?

* Vom Modell zur Software

\chapter{Implementierung}
%TODO beschreiben, das den Leser in diesm Kapitel erwartet
Bis hierher völlig frei von Programmierspachen und sonstigen Programmierparadigmen.

\section{Wahl der Programmiersprachen}

\subsection{Backend}
%TODO Verweis auf Grundlagen-Kapitel
Beim Backend (der Serverseite) ist die Wahl der Programmiersprache auf PHP gefallen. Gründe hierfür waren: die hohe Verbreitung:
%http://w3techs.com/technologies/history_overview/programming_language
%TODO Link gescheit einbinden
und die Tatsache, dass PHP bei den meisten Webhostern vorinstalliert ist.



\subsection{Frontend}
%TODO Verweise auf Grundlagen-Kapitel

Der Server generiert mit Hilfe von PHP den HTML-Code, der an den Client (Browser) gesendet wird. Im HTML wird ausschließlich die Struktur definiert. Das Aussehen wir mit Hilfe von CSS bestimmt.
Um die Funktionalität client-seitig zu erweitern, kommt JavaScript zum Einsatz.

\section{Persistenz der Daten}
Alles was peristent gespeichert werden muss, wird in textbasierten Dateien (*.txt) abgelegt. Vorteile hiervon sind, dass
\begin{itemize}
\item Daten zwischen Live-System und Test-System leicht ausgetauscht werden können
\item Datenbank-Verwaltung entfällt
\item Keine Datenbank-Anforderungen an den Server gestellt werden
\end{itemize}

Eine potentielle Fehlerquelle bei dem Gebrauch von textbasierten Daten ist, wenn zwei Benutzer gleichzeitig auf eine Datei zugreifen wollen. Das ist derzeit nur bei den Kalender-Eingaben der Assistenten möglich. Um den gleichzeitigen Zugriff zu verhindern wird eine Art Semaphore eingesetzt. Unter PHP gibt es keine echte Semaphoren, aber es gibt die Möglichkeit auf eine Datei sperrend zuzugreifen.
%TODO Konzept der Lock-Datei erleutern


\section{Übersicht}
Auf der Übersichts-Seite (siehe Abbildung \ref{fig:Overview}) werden dem Benutzer alle verfügbaren Seiten als Hyperlink aufgelistet. Hierbei werden der Benutzertyp (Klient oder Assistent) und die Einstellungen (z. B. Aufgaben-Verwaltung benutzen oder nicht) berücksichtigt.

\begin{figure}[htb]
	\centering
	\includegraphics[scale=0.8]{../Images/Screenshots/overview.png}
	\caption[Overview]{Übersicht Assistenzplaner für Klienten - von hier aus erreicht man per Link alle Verfügbaren Seiten}
	\label{fig:Overview}
\end{figure}


\section{Verwaltung der Bediener}
Damit der Klient und die Assistenten benutzerspezifische Eingaben tätigen können ist ein Verwaltung der Bediener notwendig.
Jeder Benutzer des Assistenzplaners kann sich mit einem eigenen Konto anmelden.
* keine Überschneidung mit Benutzer-Verwaltung - genaue gegenseitige Abtrennung nötig
* Session Management (wie erkenne ich meinen Nutzer wieder)?
* Passwort Vergabe

\section{Team-Management}
%TODO neuer Begriff für den Abschnitt?
%TODO Referenzen auf Requirement-Abschnitt?
Der Klient braucht eine Möglichkeit um sein Assistenz-Team zu verwalten. Der Klient möchte Team-Mitglieder hinzufügen, editieren und löschen. Weiterhin möchte er das Passwort eines Assistenten zurücksetzen können.

Jeder Assitent hat folgende Eigenschaften
\begin{itemize}
\item Kennung - eindeutige ID, mit der sich der Klient am System anmeldet
\item Vorname
\item Nachname
\item Telefonnummer
\item Stichwörter - siehe %TODO Verlinkung zum Abschnitt Algorithmus
\item Stundenkontigent - Anzahl der Stunden in einem Monat, die der Assistent zur Verfügung hat
\item Priorisierung - ein Wert um den Assistenten bei der Dienstplanerstellung zu priorisieren (je höher der Wert, desto höher die Wahrscheinlichkeit, dass der Assistent viele Dienste bekommt) %TODO Verlinkumg zum Abschnitt Algorithmus
\item Bevorzugte Wochentage
\end{itemize}

Die Eigenschaften werden in tabellarischer Form dargestellt (siehe Abbildung \ref{fig:TeamTable}) und sind editierbar.

\begin{figure}[htb]
	\centering
	\includegraphics[scale=0.35]{../Images/Screenshots/teamTable.png}
	\caption[TeamTable]{Verwaltung der Assistentz-Team-Mitglieder}
	\label{fig:TeamTable}
\end{figure}

Neue Teammitglieder können mit Hilfe des Buttons "Neues Mitglied" hinzugefügt werden. Das neue Teammitglied hat inital  das Passwort was in den Einstellungen hinterlegt wurde.

Sollte ein Assistent sein Passwort vergessen haben, hat der Klient die Möglichkeit mit Hilfe des Buttons "Paswort zurücksetzen" (in der Spalte Aktionen) die Möglichkeit das Passwort des Assistenten auf den Wert des Standardpasswortes (was in den Einstellungen hinterlegt ist) zu setzen.

Sollte ein Assitent das Team verlassen, so hat der Klient die Möglichkeit mit Hilfe des Buttons "Löschen" (in der Spalte Aktionen) den Assistenten aus der Team-Übersicht zu entfernen.

\section{Dienst-Plan}
\subsection{Aus Sicht des Klienten}


\subsection{Aus Sicht des Assistenten}
Der Assistent hat keine Möglichkeit den Dienstplan zu verändern. Er kann lediglich den fertigen Dienstplan einsehen. In einer Tabelle (siehe Abbildung \ref{fig:RosterAssistantMarkus1}) werden tagesweise die Dienstzeiten und Bereitschafszeiten dargestellt. Weiterhin kann man sehen welcher Assistent Dienst bzw. Bereitschaft hat. Die Dienste und Bereitschaften des angemeldeten Assistenen werden farblich hervorgehoben.

\begin{figure}[htb]
	\centering
	\includegraphics[scale=0.5]{../Images/Screenshots/RosterAssistantMarkus1.png}
	\caption[RosterAssistantMarkus1]{Gesamter Dienstplan aus Sicht des Assistenten - farbig hervorgehoben sind die Dienste bzw. Bereitschaften des angemeldten Assistenten}
	\label{fig:RosterAssistantMarkus1}
\end{figure}


Unter dem allgemeinen Dienstplan gibt es eine Tabelle (siehe Abbildung \ref{fig:RosterAssistantMarkus2}) in der der angemeldete Assistent seine Dienste und Bereitschaften kompakt einsehen kann.

\begin{figure}[htb]
	\centering
	\includegraphics[scale=0.5]{../Images/Screenshots/RosterAssistantMarkus2.png}
	\caption[RosterAssistantMarkus2]{Dienste und Bereitschaften des angemeldeten Assistenten}
	\label{fig:RosterAssistantMarkus2}
\end{figure}



* aus Sicht des Klienten
* aus Sicht des Assistenten
* auf Dienstplan-Erstellungs-Kapitel (Algorithmus) verweisen


\section{Monatsplan}
Mit dem Monatsplan (siehe Abbildung \ref{fig:MonthPlan3})  plant der Klient den nächsten Monat. Er kann pro Tag den Dienstbeginn und das Dienstende festlegen und Notizen zum Tag erstellen. Die Notizen unterteilen sich in öffentliche und private Notizen. Öffentliche Notizen können auch vom Assistenzteam eingesehen werden. Private Notizen können nur vom Klienten selbst eingesehen werden.

\begin{figure}[htb]
	\centering
	\includegraphics[scale=0.5]{../Images/Screenshots/MonthPlan3.png}
	\caption[MonthPlan3]{Monatsplan mit der Möglichkeit tagesweise Dienstbeginn und Dienstende festzulegen und Bemerkungen zu hinterlegen}
	\label{fig:MonthPlan3}
\end{figure}

Neben den tagesweisen Bemerkungen hat der Klient noch eine Möglichkeit eine Nachricht an sein Team zu verfassen. Hier können allgemeine Hinweise für den Monat untergebracht werden.

Der Klient hat jederzeit die Möglichkeit den Monatsplan zu speichern. Möchte er sein Assistenz-Team auffordern mögliche Termine einzutragen, so kann er auf den Button "Team benachrichtigen" klicken. Vom Assistenzplaner wird dann eine E-Mail an jedes Mitglied des Assistenz-Teams geschickt mit der Bitte mögliche Termine einzutragen und der Nachricht des Klienten. Eine beispielhafte Nachricht findet sich in Abbildung \ref{fig:Mail}.

\begin{figure}[htb]
	\centering
	\includegraphics[scale=0.5]{../Images/Screenshots/Mail.png}
	\caption[Mail]{Beispielhafte Benachrichtigung der Assistenten, mit der Bitte des Klienten die Termine für den nächsten Monat einzutragen.}
	\label{fig:Mail}
\end{figure}

\section{Standard-Dienstzeiten}
Bei den Standard-Dienstzeiten (siehe Abbildung \ref{fig:DefaultTimes}) hat der Klient die Möglichkeit für jeden Wochentag festzulegen wie standardmäßig die Dienstzeiten sind. Diese Standard-Dienstzeiten werden initial im Monatsplan eingetragen, können aber vom Klienten angepasst werden.

\begin{figure}[htb]
	\centering
	\includegraphics[scale=0.6]{../Images/Screenshots/DefaultTimes.png}
	\caption[DefaultTimes]{Verwaltung der Standard-Dienstzeiten}
	\label{fig:DefaultTimes}
\end{figure}


\section{Aufgaben-Verwaltung}
Eigenschaften der Aufgaben:
* Beschreibung
* Fälligkeitsdatum
* Wiederholungstyp (nie, ab Erledigungsdatum, ab Fälligkeitsdatum)
* Wiederholungsintervall


* Aufgaben erstellen
* Wiederholungen erläutern
* DatePicker erläutern
* Extension of Date-Object erläutern
* Erledigen der Aufgaben
* Undo Funktion beim Erledigen erläutern
* Speichern

\section{Einstellungen}
* Individualisierung > Vorname, Nachname, eMail Adresse, 
* hervorheben: Aufgaben-Manager ja/nein
* 



\section{Kalender}
%TODO Notizen zum Monat
%TODO Tagesnotizen vom Klienten

Mit Hilfe des Kalenders (siehe Abbildung \ref{fig:CalendarInput}) kann ein Assistent die Termine eintragen, an denen er Dienst machen kann. Durch einen Klick auf ein Datum ändert sich der Zustand des Datums und damit auch die Hintergrundfarbe.
Rot bedeuetet, der Assistent ist an diesem Datum nicht verfügbar. Gelb bedeutet, dass der Assistent zur Not verfügbar wäre. Grün bedeutet, dass der Assistent an dem Datum uneingeschränkt zur Verfügung steht.

\begin{figure}[htb]
	\centering
	\includegraphics[scale=0.5]{../Images/Screenshots/CalendarInput.png}
	\caption[CalendarInput]{Kalender für die Eingabe der möglichen Termine}
	\label{fig:CalendarInput}
\end{figure}

Mit Hilfe des Buttons "Alle Daten markieren" kann man auf einen Rutsch alle Daten eines Monats grün (bedeutet: Assistent verfügbar) markieren.

\section{Dokumentation}
Für die Benutzer des Assistenz-Planers steht jederzeit im rechten oberen Bereich ein Link Dokumentation zur Verfügung.
Der Dokumentations-Inhalt wird individuell erzeugt. Klienten bekommen eine andere Dokumentation zu Gesicht als Assistenten, da beide auf unterschiedliche Weise mit dem Assistenz-Planer arbeiten. Weiterhin werden die Einstellungen berücksichtigt, z. B. wird das Dokumenations-Kapitel über die Aufgaben-Verwaltung nur angezeigt, wenn diese auch verwendet wird.
%TODO Weiter erläutern wie Inhaltsverzeichnis, Tabellenverzeichnis und Abbildungsverzeichnis zu Stande kommen?

\section{Willkommens-Seite}
Auf der Willkommens-Seite 
%TODO Link einfügen
 wird die Interessenten erklärt, was der Assistenz-Planer ist. Man wird aufgefordert einen neuen Klienten-Zugang einzurichten oder sich mit einem bestehenden Zugang anzumelden.

\section{Anlegen eines neuen Klienten}
Um einen neuen Klienten anzulegen wird man gebeten ein Klientennamen, ein Passwort und die Passwort-Wiederholung einzugeben.

\begin{figure}[htb]
	\centering
	\includegraphics[scale=0.6]{../Images/Screenshots/NewClient.png}
	\caption[NewClient]{Anlegen eines neuen Klienten mit Name und Passwort}
	\label{fig:NewClient}
\end{figure}

Bedingungen an einen neuen Klientennamen sind:
\begin{itemize}
\item darf nicht leer sein
\item darf noch nicht vergeben sein
\item darf nur aus Buchstaben und Zahlen bestehen
\end{itemize}

Wenn eine Bedinung nicht erfüllt ist, so wird der Benutzer darauf hingewiesen. Der Inhalt der Textfelder bleibt erhalten, so dass der Benutzer dass Passwort und die Wiederholung dessen nicht nochmal eingeben muss.

Wenn alle Bedingungen erfüllt sind und ein Passwort vergeben wurde, wird im Ordner Data ein Unterordner mit dem Klientennamen angelegt, in dem alle Daten gespeichert werden.
Weiterhin wird in der in der Datei "Data\textbackslash KlientenName\textbackslash Team\textbackslash passwords.txt" das vergebene Passwort verschlüsselt abgespeichert. %TODO Link auf das Kapitel wo das näher erklärt wird.
Der Benutzer bekommt eine Meldung, dass das Anlegen eines neuen Kontos erfolgreich war und wird gebeten sich am System anzumelden.

\section{Impressum}
Um eine Abmahnung zu vermeiden wurde dem Assistenzplaner ein Impressum hinzugefügt. Dieses beinhaltet das Impressum mit allen Angaben gemäß § 5 Telemediengesetz, einen Haftungsausschuss (Disclaimer) sowie eine Datenschutzerklärung.

\section{Navigation}
Die Navigation steht immer gut sichtbar oben rechts zur Verfügung. Abhängig davon, ob jemand am System angmeldet ist (siehe Abbildung \ref{fig:NavigationLoggedIn}) oder nicht (siehe Abbildung \ref{fig:NavigationLoggedOut}) stellt sie unterschiedliche Informationen dar.

\begin{figure}[htb]
	\centering
	\includegraphics[scale=0.5]{../Images/Screenshots/NavigationLoggedIn.png}
	\caption[NavigationLoggedIn]{Navigation bei angemeldetem Assistenten}
	\label{fig:NavigationLoggedIn}
\end{figure}

\begin{figure}[htb]
	\centering
	\includegraphics[scale=0.5]{../Images/Screenshots/NavigationLoggedOut.png}
	\caption[NavigationLoggedOut]{Navigation ohne Anmmeldung}
	\label{fig:NavigationLoggedOut}
\end{figure}

%TODO evt. einige der vorherigen sections zusammenfassen




\section{Entwicklung des Algorithmus zur Dienstplanerstellung}
Im folgenden Abschnitt wird erläutert, was die Anforderungen an den Algorithmus zur Dienstplanerstellung sind und wie der Algorithmus entwickelt und iterativ verfeinert worden ist.

\subsection{Anforderungen}
Mindestanforderung an den Algorithmus ist, dass er einen Dienstplan erstellt, der eine hunderprozentige Betreuungsabdeckung erreicht. Für jeden Tag muss ein Assistent für den Dienst und ein Assistent für die Bereitschaft im Dienstplan eingetragen sein.

Nebenbedingungen sind, dass die Stundenkontigente %TODO link auf Erklärung
der Assistenen gleichmäßig ausgeschöpft werden %TODO weitere Erklärungen - was bedeutet "gleichmäßig"
und die Vorlieben des Klienten berücksichtigt werden. %TODO weitere Erläuterungen
%TODO Begriff Vorlieben wirklich lassen?

\subsection{Ein- und Ausgabe}
%TODO Bild?


%TODO abwägen zwischen 
% * Darstellung der Entwicklung des Algorithmus
% * einmal den gesamten Algorithmus ohne Zwischenschritte vorstellen




\subsection{Erste Version}
\label{sec:algorithmVersion1}
Die allererste Version des Algorithmus berücksichtigt nur die hunderprozentige Betreuungsabdeckung. Der Algorithmus geht über alle Tage des Monats und schaut, ob es mindestens zwei Assistenten gibt, die Zeit haben. Der erste freie Assistent bekommt den Dienst, der zweite freie Assistent bekommt die Bereitschaft zugewiesen. Bei dieser ersten Version entsteht schon mal ein vollständiger Dienstplan, der Klient ist betreut, jedoch wurden weder die Stundenkontigente noch die Vorlieben des Klienten berücksichtigt.

\subsection{Zweite Version - Berücksichtigung der allgemeinen Vorlieben}
\label{sec:algorithmVersion2}

In der zweiten Version des Algorithmus werden die allgemeinen Vorlieben des Klienten berücksichtig. Für jedes Teammitglied kann der Klient eine Priorisierungswert festlegen. 
%TODO Verlinkung zur Erklärung der Team-Tabelle
Es wird eine Punktetabelle erstellt. Die erste Spalte ist der Tag des Monats, jede weitere Spalte repräsentiert die Verfügbarkeit eines Assistenten. Ist der Assistent nicht verfügbar, so wird eine Null eingetragen. Ist der Assistent zur Not verfügbar, so wird eine Eins eingetragen. Ist der Assistent voll verfügbar, so wird eine Zehn eingetragen. Als Beispiel dienen die Zahlen in Tabelle \ref{tab:scoreTable}. Nun wird jeder Verfügbarkeitswert mit dem Priorisierungswert multipliziert. Mit den Prioriserungswerten  aus Tabelle \ref{tab:teamMemberPriorities} verändert sich die Punktetabelle. Das Ergebnis ist in Tabelle \ref{tab:scoreTable2} zu sehen. \\
Nach der Erstellung der Punktetabelle iteriert der Algorithmus über alle Tage und gibt dem Assistenten mit der höchsten Punktzahl den Dienst und dem Assistenten mit der zweithöchsten Punktzahl die Bereitschaft.
Eine sinnvolle Auslastung der Stundenkontigente findet in dieser Version des Algorithmus nicht statt.

\begin{table}[htb]
\centering
\begin{tabular}{|c|c|c|c|}
\hline 
Tag des Monats & Assistent 1 & Assistent 2 & Assistent 3 \\ 
\hline 
1 & 0 & 10 & 10 \\ 
\hline 
2 & 1 & 10 & 0 \\ 
\hline 
3 & 10 & 1 & 10 \\ 
\hline 
... & ... & ... & ... \\ 
\hline 
\end{tabular} 
\caption{Punktetabelle}
\label{tab:scoreTable}
\end{table}

\begin{table}[htb]
\centering
\begin{tabular}{|c|c|}
\hline 
Assitent & Priorisierungwert \\ 
\hline 
Assitent 1 & 1 \\ 
\hline 
Assitent 2 & 2 \\ 
\hline 
Assitent 3 & 3 \\ 
\hline 
\end{tabular} 
\caption{Priorisierungswerte}
\label{tab:teamMemberPriorities}
\end{table}

\begin{table}[htb]
\centering
\begin{tabular}{|c|c|c|c|}
\hline 
Tag des Monats & Assistent 1 & Assistent 2 & Assistent 3 \\ 
\hline 
1 & 0 & 20 & 30 \\ 
\hline 
2 & 1 & 20 & 0 \\ 
\hline 
3 & 10 & 2 & 30 \\ 
\hline 
... & ... & ... & ... \\ 
\hline 
\end{tabular}
\caption{Punktetabelle nach Multiplikation mit Priorisierungswert}
\label{tab:scoreTable2}
\end{table}

\subsection{Dritte Version - Berücksichtigung der Wochentage}
\label{sec:algorithmVersion3}
Der Klient kann Assistenten an bestimmten Wochentagen priorisieren. %TODO verlinkung auf entspechendes kapitel
Der Algorithmus geht genauso vor wie im vorherigen Abschnitt beschrieben. Zusätzlich wird jedoch der Wochentag berücksichtigt. Ist zum Beispiel Assistent 1 am Montag priorisiert, so werden die Werte an allen Montagen in der Punktetabelle verdoppelt. Somit steigt die Wahrscheinlichkeit um das doppelte, dass Assistent 1 an den Montagen den Dienst bekommt.

\subsection{Vierte Version - Berücksichtigung der Stundenkontigente}
\label{sec:algorithmVersion4}
In der nächsten Verfeinerung des Algoritmus werden die Stundengkontigente berücksichtigt. Bisher hat der Algorithmus einfach den erst und zweit-besten Assistenten genommen und für Dienst bwz. Bereitschaft eingeteilt. Das führt zwar zu einem lokalen Optimum, führt aber in der Regel dazu, dass die Stundenauslastung sehr ungleichmäßig ist. Um eine gleichmäßige Stundenauslastung zu erreichen reicht es nicht mehr, über alle Tage zu iterieren und jeden Tag isoliert zu betrachten, sondern der gesamte Monat muss betrachtet werden.
Um dies zu erreichen wird die Punktetabelle in eine andere Tabelle konvertiert.
%TODO weitere Beschreibung

\subsection{Fünfte Version - Berücksichtigung der Stichwörter}
\label{sec:algorithmVersion5}
Der Algorithums arbeitet prinzipiell wie im vorherigen Abschnitt beschrieben. Bei der Erstellung der Punktetabelle werden jedoch die Stichworte der Monats... berücksichtigt.
%TODO näher beschreiben

\subsection{Sechste Version - Überarbeitung}
\label{sec:algorithmVersion6}
1000 Dienstpläne erstellen und den Besten aussuchen -> Randomisierter Algorithmus -> Bester Dienstplan gewinnt
--> Erklären, was "bester Dienstplan" ist!



%TODO weitere Versionen des Algorithmus?


%TODO den endgültigen Algorithmus nochmal komplett im Detail mit Bild beschreiben




\section{Code-Listing-Test}
\begin{lstlisting}
<?php
/* this is a stupid example */
$username = $_POST["username"];
$passwort = $_POST["passwort"];

$pass = md5($passwort);

// another comment
if($username=="Andavos" and
$pass=="fd0d9cdefd5d42dfa36c74a449aa8214") {
   echo "Herzlich Willkommen";
}
else {
   echo "Login Fehlgeschlagen";
}
?>
\end{lstlisting}

\clearpage
\newpage

\chapter{Ergebnis}

\chapter{Fazit und Ausblick} % alternativ: Diskussion und Ausblick
* wenn nicht schon in Arbeit eingeflossen, dann hier die Gespräche mit Commit und Matthias Rösch verarbeiten

\section{Mehr Teams}
* Wie kann man noch mehr Menschen bzw. Teams erreichen
%TODO Abschnitt nach Gesprächen schreiben


\section{Mögliche Erweiterungen}
In diesem Abschnitt werden mögliche Erweiterungen des Assistenzplaners vorgestellt und diskutiert.

\subsection{Übersetzung in andere Sprachen}
Derzeit ist der Assistenzplaner komplett in Deutsch. Es ist eine Unterstützung für andere Sprachen angedacht aber noch nicht umgesetzt. Alle Stellen, an denen Text in deutscher Sprache ausgegeben wird, müssten angepasst werden. Denkbar wäre eine Klasse Translator in der alle zu übersetzenden Strings enthalten sind. Jede Sprache müsste von Translator ableiten und die Strings überschreiben.
%TODO noch näher beschreiben?

\subsection{Feiertage importieren}


\subsection{ICS Export}
%TODO Erklärung und Link ICS
Für die Assistenten wäre es interessant den Dienstplan im ICS Format abbonieren zu können. So hätten die Assistenten jederzeit die aktuelleste Version und ihre Dienst- und Bereitschaftszeiten im Online-Kalender.
% -> auch auf dem SmartPhone etc.

\subsection{Logging}
Derzeit ist nicht nachvollziehbar, wer wann was am Assistenzplaner gemacht hat. Für zukünftigen Support und Fehlersuche wäre es wünschenswert ein Log-File zu haben, in dem man sehen kann, welche Änderungen in der letzten Zeit gemacht wurden und von wem diese durchgeführt wurden.

\subsection{Responsive Webdesign}
Auf Desktops und Tablets wird der Assistenzplaner gut dargestellt und kann gut bedient werden. Auf Smart-Phones ist das Aussehen und die Bedienung verbesserungswürdig.
Mit Hilfe von Responsive Webdesign könnten unterschiedliche Geräte-Kategegorien unterstützt werden.
%TODO Link setzen: http://de.wikipedia.org/wiki/Responsive_Webdesign

\subsection{Monatsplan und Dienstplan zu einer Einheit verschmelzen}
%TODO nochmal darüber nachdenken, wie man das umsetzen könnte und dann hier beschreiben

\subsection{Team Übersicht überarbeiten}
Derzeit wird das Team mit Hilfe einer Tabelle verwaltet. Die Tabelle ist mit der Zeit immer breiter geworden und unübersichtlich geworden. Eine Möglichkeit die Daten der Assistenten anders grafisch aufzubereiten wären Visitenkarten.

\subsection{Inline-Dokumentation}
Derzeit ist der Assistenzplaner für Klienten und Assistenten auf einer Seite dokumentiert.
Wünschenswert wäre es, wenn die Informationen zusätzlich über den gesamten Assistenzplaner an geeigneter Stelle leicht zugägnlich verteilt wären. Vorstellbar wäre, dass an einigen Stellen im Assistenzplaner ein Hilfe-Icon plaziert wird, auf das man klicken kann und dann in einem Pop-Up kontextbezogene Hilfe angezeigt bekommt.

\subsection{Aufgaben-Manager erweitern}
Der Aufgaben-Manager wurde nur rudimentär entwickelt. Schon zu einem frühen Zeitpunkt hat der Haupt-Stakeholder entschieden den Aufgaben-Manager nicht für sein Team einzusetzen. Aufgrund dieser Entscheidung wurde die Entwicklung schon nach einer Woche wieder auf Eis gelegt.

\subsubsection{Hervorhebungen bi  Datum-Auswahl}
In der Datum-Auswahl sollte der aktuelle Tag sowie der gewählte Tag farblich hervorgehoben werden.

\subsubsection{Aufgaben editieren}
Aufgaben lassen sich derzeit nur anlegen, nicht im Nachhinein verändern. Eine Editierfunktion wäre von großem Nutzen.

\subsubsection{Aufgabe löschen}
Aufgaben lassen sich derzeit nur anlegen, aber nicht löschen.

\subsubsection{Übersicht über erledigte Aufgaben}
Von Vorteil (gerade für die Leistungserbringungs-Nachweise) wäre es, wenn man nachvollziehen kann, welcher Assistent wann was erledigt hat.

\listoftables % Tabellenverzeichnis
\listoffigures
\renewcommand{\lstlistlistingname}{Verzeichnis der Listings}
\lstlistoflistings % Listings-Verzeichnis

\input{Glossar}
\let\stdchapter\chapter %Nummer vor Abkürzungsverzeichnis (speichern der chapter Umgebung)
\def\chapter*#1{\stdchapter{#1}} % neue Definition von chapter
\printnomenclature
\label{sec:Glossar}
\let\chapter\stdchapter % zurück zur alten Definition

% Literaturverzeichnis ---------------------------------------------------------
%   Das Literaturverzeichnis wird aus der BibTeX-Datenbank
%   erstellt.
% ------------------------------------------------------------------------------

\bibliography{../BibTeX/literatur} % Aufruf: bibtex Masterarbeit
\bibliographystyle{natdin} % DIN-Stil des Literaturverzeichnisses

% Anhang -----------------------------------------------------------------------
%   Die Inhalte des Anhangs werden analog zu den Kapiteln inkludiert.
%   Dies geschieht in der Datei "Anhang.tex".
% ------------------------------------------------------------------------------
\begin{appendix}
\clearpage
\chapter{Anhang}
\label{sec:Anhang}
% Rand der Aufzählungen in Tabellen anpassen
\setdefaultleftmargin{1em}{}{}{}{}{}

\section{Verzeichnisstruktur auf Server}
*PHP
*HTML
*JavaScript
* Data
...


\section{Verwendete Software}
* PHP 5.5.14 -> http://assistenzplaner.de/PHP/phpInfo.php
   * PhpMailer
   * FPDF

* PhpStorm
* Enterprise Architect
* GitHub
* Cyberduck (FTP-Client)
    
    
% \input{Quellcode}
\end{appendix}

% Index ------------------------------------------------------------------------
%   Zum Erstellen eines Index, die folgende Zeile auskommentieren.
% ------------------------------------------------------------------------------
%\printindex

\end{document}
